# Loan Service - –ó—ç—ç–ª–∏–π–Ω “Ø–π–ª—á–∏–ª–≥—ç—ç Documentation

–≠–Ω—ç README —Ñ–∞–π–ª –Ω—å Loan Service-–∏–π–Ω –±“Ø—Ö “Ø“Ø—Å–≥—ç–≥–¥—Å—ç–Ω –¥–∏–∞–≥—Ä–∞–º, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã–Ω —Ç–∞–π–ª–±–∞—Ä –±–æ–ª–æ–Ω —Å–∏—Å—Ç–µ–º–∏–π–Ω –µ—Ä”©–Ω—Ö–∏–π —Ö–∞—Ä–∞–≥–¥–∞—Ö –±–∞–π–¥–ª—ã–≥ –∞–≥—É—É–ª–Ω–∞.

## üìÅ –§–∞–π–ª—É—É–¥—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç

### 1. Sequence Diagrams (PlantUML)
- **`loan-service-sequence-diagram.puml`** - PlantUML —Ñ–æ—Ä–º–∞—Ç–∞–∞—Ä sequence diagram-—É—É–¥
- **`loan-service-sequence-diagram.md`** - Mermaid —Ñ–æ—Ä–º–∞—Ç–∞–∞—Ä sequence diagram-—É—É–¥

### 2. Architecture Documentation
- **`loan-service-architecture.md`** - –°–∏—Å—Ç–µ–º–∏–π–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã–Ω –µ—Ä”©–Ω—Ö–∏–π —Ö–∞—Ä–∞–≥–¥–∞—Ö –±–∞–π–¥–∞–ª

### 3. README Files
- **`README-SEQUENCE-DIAGRAMS.md`** - –≠–Ω—ç —Ñ–∞–π–ª (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–π–Ω –∑–∞–∞–≤–∞—Ä)

## üîç –î–∏–∞–≥—Ä–∞–º–º—É—É–¥—ã–≥ —Ö–∞—Ä–∞—Ö

### PlantUML —Ñ–∞–π–ª—É—É–¥—ã–≥ —Ö–∞—Ä–∞—Ö
1. **PlantUML Extension** —Å—É—É–ª–≥–∞—Ö (VS Code-–¥)
2. **PlantUML Server** –∞—à–∏–≥–ª–∞—Ö
3. **Online PlantUML Editor** –∞—à–∏–≥–ª–∞—Ö: http://www.plantuml.com/plantuml/

### Mermaid –¥–∏–∞–≥—Ä–∞–º–º—É—É–¥—ã–≥ —Ö–∞—Ä–∞—Ö
1. **Mermaid Extension** —Å—É—É–ª–≥–∞—Ö (VS Code-–¥)
2. **GitHub** –¥—ç—ç—Ä —à—É—É–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞
3. **Online Mermaid Editor** –∞—à–∏–≥–ª–∞—Ö: https://mermaid.live/

## üìä “Æ–Ω–¥—Å—ç–Ω Sequence Diagram-—É—É–¥

### 1. –ó—ç—ç–ª —Ö“Ø—Å—ç—Ö (Loan Application)
- –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∑—ç—ç–ª–∏–π–Ω —Ö“Ø—Å—ç–ª—Ç–∏–π–≥ –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞—Ö
- –≠—Ä—Ö–∏–π–Ω —à–∞–ª–≥–∞–ª—Ç, –∑—ç—ç–ª–∏–π–Ω —Ö—ç–º–∂—ç—ç–≥ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
- –ú—ç–¥—ç–≥–¥—ç—Ö, –∞—É–¥–∏—Ç –±“Ø—Ä—Ç–≥—ç—Ö

### 2. –ó—ç—ç–ª–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö (Get Loan by ID)
- ID-–∞–∞—Ä –∑—ç—ç–ª–∏–π–Ω –º—ç–¥—ç—ç–ª–ª–∏–π–≥ —Ö–∞–π—Ö
- ”®–≥”©–≥–¥–ª–∏–π–≥ DTO –±–æ–ª–≥–æ–Ω —Ö”©—Ä–≤“Ø“Ø–ª—ç—Ö

### 3. –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –±“Ø—Ö –∑—ç—ç–ª“Ø“Ø–¥ (Get All Loans by User)
- –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –±“Ø—Ö –∑—ç—ç–ª–∏–π–≥ —Ö—É—É–¥–∞—Å–ª–∞–∂ –∞–≤–∞—Ö
- Pagination –¥—ç–º–∂–ª—ç–≥

### 4. –ó—ç—ç–ª –±–∞—Ç–ª–∞—Ö (Loan Approval)
- –ê–¥–º–∏–Ω —ç—Ä—Ö—ç—ç—Ä –∑—ç—ç–ª–∏–π–≥ –±–∞—Ç–ª–∞—Ö
- –°—Ç–∞—Ç—É—Å—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö, –º—ç–¥—ç–≥–¥—ç—Ö

### 5. –ó—ç—ç–ª–∏–π–Ω —Ç”©–ª–±”©—Ä —Ç”©–ª”©—Ö (Loan Payment Processing)
- –¢”©–ª–±”©—Ä–∏–π–≥ –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞—Ö
- “Æ–ª–¥—ç–≥–¥—ç–ª —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
- –ë“Ø—Ä—ç–Ω —Ç”©–ª”©–≥–¥—Å”©–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö

### 6. –ó—ç—ç–ª —Ç–∞—Ç–≥–∞–ª–∑–∞—Ö (Loan Rejection)
- –ó—ç—ç–ª–∏–π–≥ —Ç–∞—Ç–≥–∞–ª–∑–∞—Ö
- –®–∞–ª—Ç–≥–∞–∞–Ω—ã–≥ –±“Ø—Ä—Ç–≥—ç—Ö
- –ú—ç–¥—ç–≥–¥—ç—Ö

### 7. –ê–ª–¥–∞–∞–Ω—ã –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞–ª—Ç (Error Handling)
- Validation –∞–ª–¥–∞–∞
- Business logic –∞–ª–¥–∞–∞
- System –∞–ª–¥–∞–∞

## üèóÔ∏è –°–∏—Å—Ç–µ–º–∏–π–Ω –±“Ø—Ä—ç–ª–¥—ç—Ö“Ø“Ø–Ω —Ö—ç—Å–≥“Ø“Ø–¥

### Controller Layer
- **GMTLoanController**: HTTP request-“Ø“Ø–¥–∏–π–≥ —Ö“Ø–ª—ç—ç–Ω –∞–≤–∞—Ö
- **Request Validation**: –•“Ø—Å—ç–ª—Ç–∏–π–Ω –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç
- **Response Handling**: –•–∞—Ä–∏—É –±—É—Ü–∞–∞—Ö

### Service Layer
- **GMTLoanService**: –ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫
- **Loan Calculations**: –ó—ç—ç–ª–∏–π–Ω —Ç–æ–æ—Ü–æ–æ–ª–æ–ª
- **External Integration**: –ì–∞–¥–∞–∞–¥ “Ø–π–ª—á–∏–ª–≥—ç—ç—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö

### Repository Layer
- **GMTLoanRepository**: ”®–≥”©–≥–¥–ª–∏–π–Ω —Ö–∞–Ω–¥–∞–ª—Ç
- **Custom Queries**: –¢—É—Å–≥–∞–π —Ö–∞–π–ª—Ç—ã–Ω —Ñ—É–Ω–∫—Ü“Ø“Ø–¥
- **Data Persistence**: ”®–≥”©–≥–¥–ª–∏–π–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö

### Entity Layer
- **GMTLoanEntity**: –ó—ç—ç–ª–∏–π–Ω ”©–≥”©–≥–¥–ª–∏–π–Ω –∑–∞–≥–≤–∞—Ä
- **JPA Annotations**: Database mapping
- **Business Logic**: –ë–∏–∑–Ω–µ—Å –¥“Ø—Ä–º“Ø“Ø–¥

## üîå API Endpoints

### –ó—ç—ç–ª–∏–π–Ω “Ø–π–ª–¥–ª“Ø“Ø–¥
- `POST /api/loans/apply` - –ó—ç—ç–ª —Ö“Ø—Å—ç—Ö
- `GET /api/loans/{id}` - –ó—ç—ç–ª–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö
- `GET /api/loans/user/{userId}` - –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∑—ç—ç–ª“Ø“Ø–¥
- `PUT /api/loans/{id}/approve` - –ó—ç—ç–ª –±–∞—Ç–ª–∞—Ö
- `PUT /api/loans/{id}/reject` - –ó—ç—ç–ª —Ç–∞—Ç–≥–∞–ª–∑–∞—Ö
- `POST /api/loans/{id}/payment` - –¢”©–ª–±”©—Ä —Ç”©–ª”©—Ö

### –•–∞–π–ª—Ç—ã–Ω —Ñ—É–Ω–∫—Ü“Ø“Ø–¥
- `GET /api/loans/search` - –ó—ç—ç–ª —Ö–∞–π—Ö
- `GET /api/loans/status/{status}` - –°—Ç–∞—Ç—É—Å–∞–∞—Ä —Ö–∞–π—Ö
- `GET /api/loans/date-range` - –û–≥–Ω–æ–æ–≥–æ–æ—Ä —Ö–∞–π—Ö

## üíº –ë–∏–∑–Ω–µ—Å –ø—Ä–æ—Ü–µ—Å—Å—É—É–¥

### –ó—ç—ç–ª–∏–π–Ω —Ö“Ø—Å—ç–ª—Ç–∏–π–Ω –ø—Ä–æ—Ü–µ—Å—Å
1. –•—ç—Ä—ç–≥–ª—ç–≥—á –∑—ç—ç–ª —Ö“Ø—Å–Ω—ç
2. –°–∏—Å—Ç–µ–º —ç—Ä—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
3. –ó—ç—ç–ª–∏–π–Ω —Ö—ç–º–∂—ç—ç–≥ —Ç–æ–æ—Ü–æ–æ–ª–Ω–æ
4. –•“Ø—Å—ç–ª—Ç–∏–π–≥ —Ö–∞–¥–≥–∞–ª–Ω–∞
5. –ú—ç–¥—ç–≥–¥—ç–ª –∏–ª–≥—ç—ç–Ω—ç
6. –ê—É–¥–∏—Ç –±“Ø—Ä—Ç–≥—ç–Ω—ç

### –ó—ç—ç–ª–∏–π–Ω –±–∞—Ç–ª–∞–ª—Ç—ã–Ω –ø—Ä–æ—Ü–µ—Å—Å
1. –ê–¥–º–∏–Ω —Ö“Ø—Å—ç–ª—Ç–∏–π–≥ —Ö–∞—Ä–Ω–∞
2. –ë–∏–∑–Ω–µ—Å –¥“Ø—Ä–º–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
3. –ó—ç—ç–ª–∏–π–≥ –±–∞—Ç–ª–∞–Ω–∞
4. –°—Ç–∞—Ç—É—Å—ã–≥ —à–∏–Ω—ç—á–∏–ª–Ω—ç
5. –ú—ç–¥—ç–≥–¥—ç–ª –∏–ª–≥—ç—ç–Ω—ç
6. –ê—É–¥–∏—Ç –±“Ø—Ä—Ç–≥—ç–Ω—ç

### –¢”©–ª–±”©—Ä–∏–π–Ω –ø—Ä–æ—Ü–µ—Å—Å
1. –•—ç—Ä—ç–≥–ª—ç–≥—á —Ç”©–ª–±”©—Ä —Ç”©–ª–Ω”©
2. –°–∏—Å—Ç–µ–º —Ç”©–ª–±”©—Ä–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞
3. “Æ–ª–¥—ç–≥–¥–ª–∏–π–≥ —Ç–æ–æ—Ü–æ–æ–ª–Ω–æ
4. ”®–≥”©–≥–¥–ª–∏–π–≥ —à–∏–Ω—ç—á–∏–ª–Ω—ç
5. –ú—ç–¥—ç–≥–¥—ç–ª –∏–ª–≥—ç—ç–Ω—ç
6. –ê—É–¥–∏—Ç –±“Ø—Ä—Ç–≥—ç–Ω—ç

## üõ°Ô∏è –ê—é—É–ª–≥“Ø–π –±–∞–π–¥–ª—ã–Ω –æ–Ω—Ü–ª–æ–≥—É—É–¥

### Authentication & Authorization
- **JWT Token**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –Ω—ç–≤—Ç—Ä—ç—Ö
- **Role-Based Access**: –≠—Ä—Ö—ç–¥ —Å—É—É—Ä–∏–ª—Å–∞–Ω —Ö–∞–Ω–¥–∞–ª—Ç
- **PreAuthorize**: Spring Security annotation

### Security Measures
- **Rate Limiting**: –•—É—Ä–¥–Ω—ã —Ö—è–∑–≥–∞–∞—Ä–ª–∞–ª—Ç
- **Input Validation**: –û—Ä–æ–ª—Ç—ã–Ω –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç
- **SQL Injection Protection**: SQL injection —Ö–∞–ª–¥–ª–∞–≥–∞–∞—Å —Ö–∞–º–≥–∞–∞–ª–∞—Ö
- **XSS Protection**: Cross-site scripting —Ö–∞–ª–¥–ª–∞–≥–∞–∞—Å —Ö–∞–º–≥–∞–∞–ª–∞—Ö

## üìà –ì“Ø–π—Ü—ç—Ç–≥—ç–ª–∏–π–Ω –æ–Ω—Ü–ª–æ–≥—É—É–¥

### Caching Strategy
- **Redis Cache**: ”®–≥”©–≥–¥–ª–∏–π–Ω cache
- **Query Result Caching**: –•–∞–π–ª—Ç—ã–Ω “Ø—Ä –¥“Ø–Ω–≥ cache —Ö–∏–π—Ö
- **User Session Caching**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω session cache

### Database Optimization
- **Indexing**: Database index
- **Connection Pooling**: –•–æ–ª–±–æ–ª—Ç—ã–Ω pool
- **Query Optimization**: –•–∞–π–ª—Ç—ã–Ω –æ–Ω–æ–≤—á–ª–æ–ª

### Async Processing
- **Message Queue**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞–ª—Ç
- **Background Jobs**: –ê—Ä—ã–Ω –∞–∂–ª—É—É–¥
- **Event-Driven**: “Æ–π–ª —è–≤–¥–∞–ª–¥ —Å—É—É—Ä–∏–ª—Å–∞–Ω

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–π–Ω —Å—Ç–µ–∫

### Backend Framework
- **Spring Boot**: “Æ–Ω–¥—Å—ç–Ω framework
- **Spring Data JPA**: Database access
- **Spring Security**: –ê—é—É–ª–≥“Ø–π –±–∞–π–¥–∞–ª
- **Spring Cloud**: Microservices

### Database & Cache
- **PostgreSQL/MySQL**: “Æ–Ω–¥—Å—ç–Ω database
- **Redis**: Cache, session storage
- **Hibernate**: ORM framework

### Build & Deployment
- **Gradle**: Build tool
- **Docker**: Containerization
- **Kubernetes**: Orchestration
- **Helm**: Package management

### Monitoring & Logging
- **Prometheus**: Metrics collection
- **Grafana**: Visualization
- **ELK Stack**: Logging
- **Jaeger**: Distributed tracing

## üöÄ Getting Started

### 1. –°–∏—Å—Ç–µ–º–∏–π–Ω —à–∞–∞—Ä–¥–ª–∞–≥–∞
- Java 11+
- PostgreSQL/MySQL
- Redis
- Docker (optional)

### 2. –°—É—É–ª–≥–∞—Ö
```bash
# Repository clone —Ö–∏–π—Ö
git clone <repository-url>
cd loan-service

# Dependencies —Å—É—É–ª–≥–∞—Ö
./gradlew build

# Application —ç—Ö–ª“Ø“Ø–ª—ç—Ö
./gradlew bootRun
```

### 3. Configuration
```yaml
# application.yml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/loan_db
    username: loan_user
    password: loan_pass
  
  redis:
    host: localhost
    port: 6379
```

### 4. API Testing
```bash
# –ó—ç—ç–ª —Ö“Ø—Å—ç—Ö
curl -X POST http://localhost:8080/api/loans/apply \
  -H "Content-Type: application/json" \
  -d '{"userId": 1, "amount": 1000000, "term": 12}'

# –ó—ç—ç–ª–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö
curl http://localhost:8080/api/loans/1
```

## üìö –ù—ç–º—ç–ª—Ç –º—ç–¥—ç—ç–ª—ç–ª

### Documentation Links
- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [Spring Data JPA](https://spring.io/projects/spring-data-jpa)
- [Spring Security](https://spring.io/projects/spring-security)

### Related Services
- **User Service**: –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª
- **Notification Service**: –ú—ç–¥—ç–≥–¥—ç–ª –∏–ª–≥—ç—ç—Ö
- **Audit Service**: –ê—É–¥–∏—Ç –±“Ø—Ä—Ç–≥—ç–ª
- **Payment Service**: –¢”©–ª–±”©—Ä –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞—Ö

### Support & Contact
- **Development Team**: GMT Development Team
- **Email**: dev@golomt.mn
- **Documentation**: Internal Wiki

---

*–≠–Ω—ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–π–≥ GMT Development Team –±—ç–ª—Ç–≥—ç—Å—ç–Ω. –°“Ø“Ø–ª–∏–π–Ω —à–∏–Ω—ç—á–ª—ç–ª—Ç: 2024*
